파일 목록 :

.env : 토큰이 저장될 파일, 깃 등 외부에 노출되면 안 될 것 같아  .env 형식 사용

adminuser.yaml : 대시보드에 접근 할 유저를 생성해야 함- cluster-admin은 쿠버네티스에서 가장 강력한 내장 ClusterRole (권한 범위 : 리소스 생성, 조회, 수정, 삭제 등 작업 수행 가능, 다른 네임스페이스의 리소스에 대해서도 동일한 권한을 가지므로 보안 리스크가 있다.)

port-forward.log : 포트포워딩 방식으로 돌아갈 대시보드의 접근 기록 등 로그 

secret.yaml : admin-user가 대시보드에 접속하기 위해서는 토큰이 필요한데, 이 토큰을 발급받는 방식으로 secret을 사용했다.  Secret의 타입을 kubernetes.io/service-account-token로 주면 서비스 어카운트와 연결된 토큰을 발급할 수 있다.

start-dashboard.sh : 포트포워딩과 토큰을 발급하고, 출력하는 쉘 스크립트

---


https로만 동작하며, http접속이 안되는 문제가 있다. > 보안적인 문제가 있어서 이렇게 설계된 것으로 추정

대시보드에 접속하려면 토큰이 필요하고, 토큰은 시크릿을 등록하는 방법으로 발급받는다.  시크릿에는 유효기간이 존재하고,  시크릿이 존재하지 않는 경우에만 토큰이 발급되도록 쉘 스크립트를 작성하였다.


