# Github actions를 활용한 소스코드 관리 자동화

이 문서는 **GitHub Actions**를 워크플로우를 통해 주기적으로 특정 브랜치를 병합하고, 커밋 푸시 시 알림을 보내는 과정을 자동화하는 부분을 설명합니다.

## 1. Daily Merge 워크플로우

### 목적
이 워크플로우는 주기적으로 각 브랜치별로 푸쉬되는 내용을 `main`브랜치에 자동으로 병합하고 병합 성공 시 `main` 브랜치로 푸시하며, 병합 충돌 발생 시 Slack을 통해 알림을 전송합니다. 수동으로 워크플로우를 실행할 수도 있습니다.

### 주요 작업 단계
1. **리포지토리 체크아웃**
    - `main` 브랜치를 기준으로 작업을 시작합니다. 전체 Git 기록을 가져와 병합에 필요한 모든 브랜치가 포함됩니다.
   
2. **Git 사용자 설정**
    - Git 명령어에서 사용할 사용자 이름과 이메일을 설정합니다.

3. **브랜치 Fetch**
    - `data-architecture`와 `mlops` 브랜치를 원격에서 가져옵니다.

4. **병합 작업**
    - `data-architecture` 브랜치를 `main` 브랜치에 병합하고, 충돌이 발생하면 메시지를 기록합니다.
    - 동일한 방식으로 `mlops` 브랜치를 병합합니다.

5. **병합 후 푸시**
    - 병합이 성공하면 `main` 브랜치로 푸시합니다.

6. **Slack 알림 전송**
    - 병합이 성공하면 Slack으로 성공 알림을 보냅니다.
    - 병합 충돌이 발생하면 Slack으로 충돌 알림을 전송합니다.

### 병합 충돌 처리
- 병합 충돌이 발생할 경우 충돌된 파일 목록을 Slack 메시지로 전송하여 충돌 해결이 필요함을 알립니다.

---

## 2. Notify Slack on Branch Commits 워크플로우

### 목적
이 워크플로우는 `data-architecture`, `mlops`, 그리고 `main` 브랜치에 커밋이 발생할 때마다 Slack으로 알림을 전송하는 작업을 수행합니다.

### 주요 작업 단계
1. **브랜치 이름 추출**
    - 커밋이 발생한 브랜치 이름을 추출하여 환경 변수로 저장합니다.

2. **Slack 알림 전송**
    - 새로운 커밋이 발생한 브랜치와 커밋 작성자, 커밋 메시지를 포함한 알림을 Slack으로 전송합니다.

---

## 3. 주요 기능 요약

- **Daily Merge 워크플로우**: 특정 시간에 자동으로 브랜치 병합을 수행하고, 성공/실패 상태를 Slack으로 알림.
- **Notify Slack on Branch Commits 워크플로우**: 브랜치에 커밋이 발생할 때마다 실시간으로 Slack에 알림 전송.

이러한 자동화 설정을 통해 코드 병합과 관리 작업을 효율적으로 처리하고, 즉각적인 알림을 통해 문제 발생 시 신속하게 대응할 수 있습니다.
